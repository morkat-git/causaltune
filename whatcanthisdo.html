<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>What can this do for you? &mdash; CausalTune 2022 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Model selection" href="howitworks.html" />
    <link rel="prev" title="Installation" href="getting_started.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            CausalTune
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">What can this do for you?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supercharge-a-b-tests-by-getting-impact-by-customer-instead-of-just-an-average">1. Supercharge A/B tests by getting impact by customer, instead of just an average</a></li>
<li class="toctree-l2"><a class="reference internal" href="#continuous-testing-combined-with-exploitation-dynamic-uplift-modelling">2. Continuous testing combined with exploitation: (Dynamic) uplift modelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#estimate-the-benefit-of-smarter-but-still-partially-random-assignment-compared-to-fully-random-without-the-need-for-an-actual-fully-random-test-group">3. Estimate the benefit of smarter (but still partially random) assignment compared to fully random without the need for an actual fully random test group</a></li>
<li class="toctree-l2"><a class="reference internal" href="#observational-inference">4. Observational inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iv-models-impact-of-customer-choosing-to-use-a-feature">5. IV models: Impact of customer choosing to use a feature</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="howitworks.html">Model selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebook_examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="causaltune.html">Public Module Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CausalTune</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">What can this do for you?</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/whatcanthisdo.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="what-can-this-do-for-you">
<h1>What can this do for you?<a class="headerlink" href="#what-can-this-do-for-you" title="Permalink to this headline"></a></h1>
<p>The automated search over the many powerful models from EconML and elsewhere allows you to easily do the following</p>
<section id="supercharge-a-b-tests-by-getting-impact-by-customer-instead-of-just-an-average">
<h2>1. Supercharge A/B tests by getting impact by customer, instead of just an average<a class="headerlink" href="#supercharge-a-b-tests-by-getting-impact-by-customer-instead-of-just-an-average" title="Permalink to this headline"></a></h2>
<p>By enriching the results of a regular A/B/N test with customer features, and running CausalTune on the
resulting dataset, you can get impact estimates as a function of customer features, allowing precise targeting by
impact in the next iteration. CausalTune also serves as a variance reduction method leveraging the availability of any additional features. <a class="reference external" href="https://github.com/py-why/causaltune/blob/main/notebooks/AB%20testing.ipynb">Example notebook</a></p>
</section>
<section id="continuous-testing-combined-with-exploitation-dynamic-uplift-modelling">
<h2>2. Continuous testing combined with exploitation: (Dynamic) uplift modelling<a class="headerlink" href="#continuous-testing-combined-with-exploitation-dynamic-uplift-modelling" title="Permalink to this headline"></a></h2>
<p>The per-customer impact estimates, even if noisy, can be used to implement per-customer Thompson sampling for new customers, biasing random treatment assignment towards ones we think are most likely to work. As we still control the per-customer propensity to treat, same methods as above can be applied to keep refining our impact estimates.</p>
<p>Thus, there is no need to either wait for the test to gather enough data for significance, nor to ever end the
test, before using its results to assign the most impactful treatment (based on our knowlede so far) to each customer.</p>
<p>As in this case the propensity to treat is known for each customer, we <a class="reference external" href="https://github.com/py-why/causaltune/blob/main/notebooks/Propensity%20Model%20Selection.ipynb">allow to explicitly supply it</a>
as a column to the estimators, instead of estimating it from the data like in other cases.</p>
</section>
<section id="estimate-the-benefit-of-smarter-but-still-partially-random-assignment-compared-to-fully-random-without-the-need-for-an-actual-fully-random-test-group">
<h2>3. Estimate the benefit of smarter (but still partially random) assignment compared to fully random without the need for an actual fully random test group<a class="headerlink" href="#estimate-the-benefit-of-smarter-but-still-partially-random-assignment-compared-to-fully-random-without-the-need-for-an-actual-fully-random-test-group" title="Permalink to this headline"></a></h2>
<p>Previous section described using causal estimators to bias treatment assignment towards the choice we think is
most likely to work best for a given customer.</p>
<p>However, after the fact we would like to know the extra benefit of that compared to a fully random assignment.
The ERUPT technique <a class="reference external" href="https://github.com/py-why/causaltune/blob/main/notebooks/ERUPT%20under%20simulated%20random%20assignment.ipynb">sample notebook</a> re-weights the actual outcomes to produce an unbiased estimate of the average outcome that a fully random assignment would have yielded, with no actual additional group needed.</p>
</section>
<section id="observational-inference">
<h2>4. Observational inference<a class="headerlink" href="#observational-inference" title="Permalink to this headline"></a></h2>
<p>The traditional application of causal inference. For example, estimating the impact on
volumes and churn likelihood of the time it takes us to answer a customer query. As the set of customers
who have support queries is most likely not randomly sampled, confounding corrections are needed.</p>
<p>As with other usecases, the advanced causal inference models allow impact estimation as a function
of customer features, rather than just averages, <strong>under the assumption that all relevant confounders are observed</strong>.</p>
<p>To use this, just set <code class="docutils literal notranslate"><span class="pre">propensity_model</span></code> to an instance of the desired classifier when instantiating <code class="docutils literal notranslate"><span class="pre">CausalTune</span></code>, or to <code class="docutils literal notranslate"><span class="pre">&quot;auto&quot;</span></code> if you want to use the FLAML classifier (the default setting is <code class="docutils literal notranslate"><span class="pre">&quot;dummy&quot;</span></code> which assumes random assigment and infers
the assignment probability from the data). <a class="reference external" href="https://github.com/py-why/causaltune/blob/main/notebooks/Propensity%20Model%20Selection.ipynb">Example notebook</a></p>
<p>If you have reason to suppose unobserved confounders, such as customer intent (did the customer do a lot of volume
because of the promotion, or did they sign up for the promotion because they intended to do lots of volume anyway?)
consider looking for an instrumental variable instead.</p>
<!--
Can we reformulate to (did the customer do a lot of volume because of the promotion or is the customer more likely
to sign up for the promotion because they have a higher volume per se?) 
-->
<p>Note that our derivation of energy score as a valid out-of-sample score for causal models is strictly speaking not
applicable for this usecase, but still appears to work reasonably well in practice.</p>
</section>
<section id="iv-models-impact-of-customer-choosing-to-use-a-feature">
<h2>5. IV models: Impact of customer choosing to use a feature<a class="headerlink" href="#iv-models-impact-of-customer-choosing-to-use-a-feature" title="Permalink to this headline"></a></h2>
<p>Instrumental variable (IV) estimation to avoid an estimation bias from unobserved confounders.</p>
<p>A natural use case for IV models is making a feature or a promotion available to a customer, and trying to
measure the impact of the customer actually choosing to use the feature (the impact of making the feature
available can be solved with 1. and 2. above).</p>
<p>Here we use feature availability as an instrumental variable (assuming its assignment to be strictly randomized),
and search over IV models in EconML to estimate the impact of the customer choosing to use it. To score IV model fits out of sample, we again use the <a class="reference external" href="https://arxiv.org/abs/2212.10076">energy score</a>. <a class="reference external" href="https://github.com/py-why/causaltune/blob/main/notebooks/Comparing%20IV%20Estimators.ipynb">Example notebook</a></p>
<p>Please be aware we have not yet extensively used the IV model fitting functionality internally, so if you run into any issues, please report them!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="getting_started.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="howitworks.html" class="btn btn-neutral float-right" title="Model selection" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Wise Payments Limited, PyWhy Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>